; ─────────────────────────────────────────────────────────────────────────────
; CouchDB local configuration for Expense Tracker
; Injected as /opt/couchdb/etc/local.ini inside the container
; ─────────────────────────────────────────────────────────────────────────────

[couchdb]
; Run as a single-node cluster (no need for Erlang clustering)
single_node = true

[chttpd]
port = 5984
bind_address = 0.0.0.0

[httpd]
enable_cors = true

; ── CORS ─────────────────────────────────────────────────────────────────────
; Required so PouchDB running inside Metro/browser can reach this CouchDB.
; Tighten 'origins' to a specific URL in production.
[cors]
origins = *
credentials = true
methods = GET, PUT, POST, HEAD, DELETE
headers = accept, authorization, content-type, origin, referer, x-csrf-token
max_age = 3600

; ── Logging ──────────────────────────────────────────────────────────────────
[log]
level = warn
